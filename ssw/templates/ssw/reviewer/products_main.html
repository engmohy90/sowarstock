{% extends "ssw/main.html" %}
{% load static from staticfiles %}
{% load thumbnail %}

{% block title %}
Products
{% endblock %}

{% block content %}

    <section class="bg--secondary space--sm">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="boxed boxed--lg boxed--border">
                        <div id="products" class="account-tab">
                            <h4>
                                Products
                            </h4>
                            <div class="tabs-container" data-content-align="left">
                                <ul class="tabs">
                                    <li class="active">
                                        <div class="tab__title">
                                            <span class="h5">Pending Approval</span>
                                        </div>
                                        <div class="tab__content">
                                            {% if pending %}
                                                <div class="custom-scroll table-responsive">
                                                  <table id="pendingProductsTable" class="table table-bordered table-hover">
                                                      <thead>
                                                      <tr>
                                                          <th>Photo Id</th>
                                                          <th>Thumbnail</th>
                                                          <th>User</th>
                                                          <th>Keywords</th>
                                                          <th>Info</th>
                                                          <th></th>
                                                      </tr>
                                                      </thead>
                                                      <tbody>
                                                      {% for product in pending %}
                                                        <tr>
                                                            <td>{{ product.public_id }}</td>
                                                            <td><a href="{{ product.image.url }}"><img src="{{ product.image|thumbnail_url:'thumbnail' }}"></a></td>
                                                            <td>{{ product.owner }}</td>
                                                            <td>{{ product.keywords}}</td>
                                                            <td>
                                                                <p><b>Main Category: </b>{{product.category}}</p>
                                                                <p><b>Sub Category: </b>{{product.subcategory}}</p>
                                                                <p><b>Released: </b>{{product.released|yesno:"Yes,No"}}</p>
                                                            </td>
                                                            <td>
                                                                <p>
                                                                    <a href="{% url 'reviewer_product_approve' product.pk %}" class="btn btn-success">Approve</a>
                                                                </p>
                                                                <p>
                                                                    <a href="{% url 'reviewer_product_reject' product.pk %}" class="btn btn-danger">Reject</a>
                                                                </p>
                                                            </td>
                                                        </tr>
                                                      {% endfor %}
                                                      </tbody>
                                                  </table>
                                                </div>
                                            {% else %}
                                            <b>There are no pending approval products</b>
                                            {% endif %}
                                        </div>
                                    </li>
                                    <li>
                                        <div class="tab__title">
                                            <span class="h5">Pending Admin Approval</span>
                                        </div>
                                        <div class="tab__content">
                                            {% if pending_admin %}
                                                <div class="custom-scroll table-responsive">
                                                  <table id="pendingAdminProductsTable" class="table table-bordered table-hover">
                                                      <thead>
                                                      <tr>
                                                          <th>Photo Id</th>
                                                          <th>Thumbnail</th>
                                                          <th>User</th>
                                                          <th>Keywords</th>
                                                          <th>Info</th>
                                                      </tr>
                                                      </thead>
                                                      <tbody>
                                                          {% for product in pending_admin %}
                                                            <tr>
                                                                <td>{{ product.public_id }}</td>
                                                                <td><a href="{{ product.image.url }}"><img src="{{ product.image|thumbnail_url:'thumbnail' }}"></a></td>
                                                                <td>{{ product.owner }}</td>
                                                                <td>{{ product.keywords}}</td>
                                                                <td>
                                                                    <p><b>Main Category: </b>{{product.category}}</p>
                                                                    <p><b>Sub Category: </b>{{product.subcategory}}</p>
                                                                    <p><b>Released: </b>{{product.released|yesno:"Yes,No"}}</p>
                                                                </td>
                                                            </tr>
                                                          {% endfor %}
                                                      </tbody>
                                                  </table>
                                                </div>
                                            {% else %}
                                                <b>There are no pending admin approval products</b>
                                            {% endif %}
                                        </div>
                                    </li>
                                    <li>
                                        <div class="tab__title">
                                            <span class="h5">Approved</span>
                                        </div>
                                        <div class="tab__content">
                                            {% if approved %}
                                                <div class="custom-scroll table-responsive">
                                                  <table id="approvedProductsTable" class="table table-bordered table-hover">
                                                      <thead>
                                                      <tr>
                                                          <th>Photo Id</th>
                                                          <th>Thumbnail</th>
                                                          <th>User</th>
                                                          <th>Keywords</th>
                                                          <th>Info</th>
                                                      </tr>
                                                      </thead>
                                                      <tbody>
                                                          {% for product in approved %}
                                                            <tr>
                                                                <td>{{ product.public_id }}</td>
                                                                <td><a href="{{ product.image.url }}"><img src="{{ product.image|thumbnail_url:'thumbnail' }}"></a></td>
                                                                <td>{{ product.owner }}</td>
                                                                <td>{{ product.keywords}}</td>
                                                                <td>
                                                                    <p><b>Main Category: </b>{{product.category}}</p>
                                                                    <p><b>Sub Category: </b>{{product.subcategory}}</p>
                                                                    <p><b>Released: </b>{{product.released|yesno:"Yes,No"}}</p>
                                                                </td>
                                                            </tr>
                                                          {% endfor %}
                                                      </tbody>
                                                  </table>
                                                </div>
                                            {% else %}
                                                <b>There are no approved products</b>
                                            {% endif %}
                                        </div>
                                    </li>
                                    <li>
                                        <div class="tab__title">
                                            <span class="h5">Rejected</span>
                                        </div>
                                        <div class="tab__content">
                                            {% if rejected %}
                                                <div class="custom-scroll table-responsive">
                                                  <table id="rejectedProductsTable" class="table table-bordered table-hover">
                                                      <thead>
                                                      <tr>
                                                          <th>Photo Id</th>
                                                          <th>Thumbnail</th>
                                                          <th>User</th>
                                                          <th>Keywords</th>
                                                          <th>Info</th>
                                                      </tr>
                                                      </thead>
                                                      <tbody>
                                                      {% for product in rejected %}
                                                        <tr>
                                                            <td>{{ product.public_id }}</td>
                                                            <td><a href="{{ product.image.url }}"><img src="{{ product.image|thumbnail_url:'thumbnail' }}"></a></td>
                                                            <td>{{ product.owner }}</td>
                                                            <td>{{ product.keywords|join:", " }}</td>
                                                            <td>
                                                                <p><b>Main Category: </b>{{product.category}}</p>
                                                                <p><b>Sub Category: </b>{{product.subcategory}}</p>
                                                                <p><b>Released: </b>{{product.released|yesno:"Yes,No"}}</p>
                                                            </td>
                                                        </tr>
                                                      {% endfor %}
                                                      </tbody>
                                                  </table>
                                                </div>
                                            {% else %}
                                                <b>There are no rejected products</b>
                                            {% endif %}
                                        </div>
                                    </li>
                                </ul>
                            </div><!--end of tabs container-->
                        </div>
                    </div>
                </div>
            </div>
            <!--end of row-->
        </div>
        <!--end of container-->
    </section>

{% endblock %}